import{_ as a,c as i,b as n,o as p}from"./app-CSRd2sc5.js";const t={};function e(l,s){return p(),i("div",null,s[0]||(s[0]=[n(`<p>Godaddy 的域名不需要域名备案，这是它方便的地方，但它不充许在根域名上直接添加 CNAME 记录，换句话说，原来在国内域名商下的域名，转移到 Godaddy 后，在 Github Pages 上绑定的根域名不再有效了。</p><p>以我的博客为例说明一下。原来我可以直接将根域名 yishulun.com 绑定到 rixingyike.github.io，www 域名通过 CNAME 绑定到根域名，这样无论读者访问根域名还是 www 域名，都可以跳转到根域名。国内早期网站网址的写法一般都会在前面带上 www，其实 www 只是一个子域名，与其它 blog、news 等子域名是等同的，为了照顾国内读者的使用习惯，我将 www 域名跳转到根域名（yishulun.com）。但是，在我的域名转移到 Godaddy 之后，这一招不好使了，Godaddy 的 DNS 解析不充许将根域名以 CNAME 的方式绑定到另一个二级域名上。</p><p>在国外，普遍认为根域名是一个域名的主要域名，www 只是一个从属的子域名。并且在 Godaddy 上，根域名只允许绑定 A 记录，不允许直接绑定 CNAME 记录，据说这是为了 CNAME 记录污染 DNS 缓存，造成在根域名上使用的邮件服务投递错乱。</p><p>那么这个问题怎么解决呢？怎么兼容老读者的使用习惯，使他们打开 yishulun.com 时看到页面不是网页荒漠呢？</p><p>有人说，可以在网站根目录下添加。htaccess 文件：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">RewriteEngine</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">on</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">RewriteCond</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">%{http_host}^yishulun.com</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">[NC]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">RewriteRule</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">^</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$https</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">://www.yishulun.com/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$1</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">[L,R=301]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>.htaccess 是给 Apache 服务器使用的网站配置文件，如果服务器不是 Apache，这个文件是起不到任何作用的。事实上我的 Github Pages 博客是由 Node.js 驱动的，因此这一招并不好使。</p><p>有人说，在页面上使用脚本实现 301 跳转，页面访问不到，JS 脚本怎么可能执行？或者在 Godaddy DCC 配置面板上，添加 Fowarding 记录，我试了这招，等待了一晚上并不好用——因为那个博主说，Godaddy 配置生效时间长，所以等了这么久。</p><p>最后说一下我是怎么配置成功的，现在读者无论访问 yishulun.com，还是访问 www.yishulun.com，最终都会跳转到 https://yishulun.com。</p><p>第一步：在 Godaddy DCC 配置面板上，添加 A 记录分别到 185.199.108.153、185.199.109.153、185.199.110.153 和 185.199.111.153。完成这一步以后，稍后用 dig 指令检查域名配置，看到如下类似结果，说明配置成功了。</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">dig</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">yishulun.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;&lt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&gt;&gt;</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">DiG</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">9.10.6</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;&lt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&gt;&gt;</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">yishulun.com</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">;;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">global</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">options:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">+cmd</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">;;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Got</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">answer:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">;;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-&gt;&gt;HEADER&lt;&lt;-</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">opcode:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">QUERY,</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">status:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">NOERROR,</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">id:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">37755</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">;;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">flags:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">qr</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">rd</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ra;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">QUERY:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">1,</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ANSWER:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">4,</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">AUTHORITY:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">0,</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ADDITIONAL:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">;;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">QUESTION</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">SECTION:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">;yishulun.com.</span><span class="tab">	</span><span class="tab">	</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">IN</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">A</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">;;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ANSWER</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">SECTION:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">yishulun.com.</span><span class="tab">	</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">600</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">IN</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">A</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">185.199.109.153</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">yishulun.com.</span><span class="tab">	</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">600</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">IN</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">A</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">185.199.111.153</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">yishulun.com.</span><span class="tab">	</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">600</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">IN</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">A</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">185.199.110.153</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">yishulun.com.</span><span class="tab">	</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">600</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">IN</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">A</span><span class="tab">	</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">185.199.108.153</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第二步，添加 CNAME 记录到 rixingyike.github.io。</p><p>第三步，在 Github Pages 配置处，填写 Custom domain 为 yishulun.com，注意这里是根域名。并选择 Enforce HTTPS 选项。</p><p>第四步，在网站根目录下，放置一个 CNAME 文件，内容为 yishulun.com。如果你使用的静态博客程度也是 vitepress，将这个文件放在。vitepress/public 目录下即可。</p><p>完成以上步骤，配置就算完成了。</p>`,15)]))}const c=a(t,[["render",e],["__file","Github Pages博客如何绑定根域名.html.vue"]]),d=JSON.parse('{"path":"/posts/2023/Github%20Pages%E5%8D%9A%E5%AE%A2%E5%A6%82%E4%BD%95%E7%BB%91%E5%AE%9A%E6%A0%B9%E5%9F%9F%E5%90%8D.html","title":"Github Pages 博客如何绑定根域名？","lang":"zh-CN","frontmatter":{"createTime":"2023-06-13T09:44:46.000Z","title":"Github Pages 博客如何绑定根域名？","description":"Godaddy 的域名不需要域名备案，这是它方便的地方，但它不充许在根域名上直接添加 CNAME 记录，换句话说，原来在国内域名商下的域名，转移到 Godaddy 后，在 Github Pages 上绑定的根域名不再有效了。 以我的博客为例说明一下。原来我可以直接将根域名 yishulun.com 绑定到 rixingyike.github.io，ww...","head":[["meta",{"property":"og:url","content":"https://yishulu.com/posts/2023/Github%20Pages%E5%8D%9A%E5%AE%A2%E5%A6%82%E4%BD%95%E7%BB%91%E5%AE%9A%E6%A0%B9%E5%9F%9F%E5%90%8D.html"}],["meta",{"property":"og:site_name","content":"艺述论"}],["meta",{"property":"og:title","content":"Github Pages 博客如何绑定根域名？"}],["meta",{"property":"og:description","content":"Godaddy 的域名不需要域名备案，这是它方便的地方，但它不充许在根域名上直接添加 CNAME 记录，换句话说，原来在国内域名商下的域名，转移到 Godaddy 后，在 Github Pages 上绑定的根域名不再有效了。 以我的博客为例说明一下。原来我可以直接将根域名 yishulun.com 绑定到 rixingyike.github.io，ww..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-21T08:31:40.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-21T08:31:40.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Github Pages 博客如何绑定根域名？\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-02-21T08:31:40.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":2.77,"words":831},"git":{"updatedTime":1740126700000,"changelog":[{"hash":"c178bdf56fc2561b8edb869f99e09ad4eea026b8","date":1740126700000,"email":"9830131@qq.com","author":"李艺","message":"2025-02-21: Automatic commit","commitUrl":"https://github.com/rixingyike/yishulun_blog_mdandcode/commit/c178bdf56fc2561b8edb869f99e09ad4eea026b8"},{"hash":"db1f2b1f5eedc31b203002c412fdd885601872c4","date":1700997895000,"email":"9830131@qq.com","author":"LIYI","message":"2023-11-26:","commitUrl":"https://github.com/rixingyike/yishulun_blog_mdandcode/commit/db1f2b1f5eedc31b203002c412fdd885601872c4"},{"hash":"dac5398e34ad78e09f9e93967c2c55b34506cf31","date":1691718498000,"email":"9830131@qq.com","author":"LIYI","message":"2023-08-11:","commitUrl":"https://github.com/rixingyike/yishulun_blog_mdandcode/commit/dac5398e34ad78e09f9e93967c2c55b34506cf31"},{"hash":"5c96954e9f9d9165fd6ad76e18c35f6aff5fef39","date":1691329720000,"email":"9830131@qq.com","author":"LIYI","message":"2023-08-06:","commitUrl":"https://github.com/rixingyike/yishulun_blog_mdandcode/commit/5c96954e9f9d9165fd6ad76e18c35f6aff5fef39"},{"hash":"3fa1017ba851b35e62b2d2b5c3da2e041ee7396b","date":1691327718000,"email":"9830131@qq.com","author":"LIYI","message":"2023-08-06:","commitUrl":"https://github.com/rixingyike/yishulun_blog_mdandcode/commit/3fa1017ba851b35e62b2d2b5c3da2e041ee7396b"},{"hash":"63a8060682d3caa6226615b3a970c8f2dd1b5967","date":1689904889000,"email":"9830131@qq.com","author":"LIYI","message":"2023-07-21_10:01","commitUrl":"https://github.com/rixingyike/yishulun_blog_mdandcode/commit/63a8060682d3caa6226615b3a970c8f2dd1b5967"}]},"autoDesc":true,"filePathRelative":"posts/2023/Github Pages博客如何绑定根域名.md","categoryList":[{"id":"18958e","sort":10001,"name":"posts"},{"id":"ac244c","sort":10017,"name":"2023"}]}');export{c as comp,d as data};
