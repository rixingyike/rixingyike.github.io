import{_ as s,c as t,b as a,o as i}from"./app-Bie1RZOU.js";const n={};function d(r,e){return i(),t("div",null,e[0]||(e[0]=[a('<p>Windows Server 2022 默认没有开启 ssh 服务，需要手动开启。</p><p>1，先在云服务器控制台，在安全组里确认 TCP 22 端口已经放行。</p><p>2，打开 PowerShell，用以下指令安装 sshd 服务：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>四个波浪线的作用是间隔，后面的 0.0.1 是版本号。</p><p>如果要移除 sshd 服务，只须将前面的 Add 换成 Remove 即可。</p><p>3，使用<code>Start-Service sshd</code>启动服务。</p><p>sshd 的配置文件在<code>C:\\ProgramData\\ssh\\sshd_config</code>，如果看不到，在文件夹选项打开隐藏就可以看到了。修改配置文件后，可以用<code>Restart-Service sshd</code>重启服务。</p><p>4，在 macOS 终端，可以使用 <code>ssh username@ip</code> 连接服务器，但默认连接上的终端是 conhost，什么也干不了。</p><p>默认开启 PowerShell 用以下指令：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>ssh username@ip -t &quot;powershell&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如何安装了 git bash：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>ssh username@ip -t &quot;C:\\PROGRA~1\\Git\\bin\\bash.exe&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>后面是 git bash 的程序地址，因为路径里有空格，用到了短地址。短地址用在这里是有效的，这是 windows 的特色，在其他系统上没有这种情况。</p><p>2025 年 03 月 19 日</p>',15)]))}const l=s(n,[["render",d],["__file","12.html.vue"]]),c=JSON.parse('{"path":"/blog/2025/12.html","title":"Windows Server 开启 ssh 备忘录","lang":"zh-CN","frontmatter":{"createTime":"2025/03/19 13:01:38","tags":["Default"],"title":"Windows Server 开启 ssh 备忘录"},"headers":[],"readingTime":{"minutes":0.99,"words":298},"git":{"updatedTime":1742361489000,"contributors":[{"name":"李艺","username":"李艺","email":"9830131@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/李艺?v=4","url":"https://github.com/李艺"}]},"filePathRelative":"blog/2025/12.md","categoryList":[{"id":"126ac9","sort":10017,"name":"blog"},{"id":"a264e0","sort":10018,"name":"2025"}]}');export{l as comp,c as data};
